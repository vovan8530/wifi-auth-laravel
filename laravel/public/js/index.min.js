"use strict";var site=null,glob={};$(document).ready(function(){var l=function(e){return e instanceof jQuery?e[0]:e},r=function(e,s,n){switch(e){case"popup":s.classList.contains("js_openPopup")||(s.style.zIndex=1150,s.style.visibility="visible",s.classList.add("js_openPopup"),s.classList.add("js_open"),n&&s.classList.add(n),document.body.classList.add("js_pageOverlayOpen"));break;case"menu":s.classList.contains("js_openMenu")||(s.style.zIndex=900,s.style.visibility="visible",s.classList.add("js_openMenu"),s.classList.add("js_open"),document.body.classList.add("js_pageOverlayOpen"))}},t=function(e,s,n){switch(e){case"popup":s.classList.contains("js_openPopup")&&(s.classList.remove("js_openPopup"),s.classList.remove("js_open"),n&&s.classList.remove(n),document.body.classList.remove("js_pageOverlayOpen"),setTimeout(function(){s.classList.contains("js_openPopup")||(s.style.zIndex=-10,s.style.visibility="hidden")},300));break;case"menu":s.classList.contains("js_openMenu")||(s.classList.remove("js_openMenu"),s.classList.remove("js_open"),document.body.classList.remove("js_pageOverlayOpen"),setTimeout(function(){s.classList.contains("js_openMenu")||(s.style.zIndex=-10,s.style.visibility="hidden")},300))}};function d(e,s){var n,o=s,t=[];for(var a=0;a<o.length;a++)switch(o[a]){case"required":e.value.replace(/\s/g,"").length||t.push(e.dataset.errorText);break;case"isNumber":n=e,!isNaN(parseFloat(n.value))&&isFinite(n.value)||t.push(e.dataset.errorText);break;case"isEmail":/^([a-zA-Z0-9_.+-])+\@(([a-zA-Z0-9-])+\.)+([a-zA-Z0-9]{2,4})+$/.test(e.value)||t.push(e.dataset.errorText);break;default:console.error("invalid input data-validate value")}return t.length?t:null}function v(e,s,n){e.classList.add("js_containsError");for(var o=$('<ul class="js_warning-list"></ul>'),t=0;t<s.length;t++){var a=$("<li></li>").text(s[t]);n&&a.css("color",n),o.append(a)}$(e).after(o)}glob.ValidationModule={isValid:function(e){var s=e instanceof jQuery?e[0]:e,n=$(s).find("[data-validate]").not(".form-radio"),o=$(s).find(".form-radio"),t=0;if(o.length){o.removeClass("js_containsError");var a=0;o.each(function(e,s){$(s).prop("checked")&&(a+=1)}),a||(o.addClass("js_containsError"),t++)}for(var i=0;i<n.length;i++){var l=[],r=n[i].dataset.textColor;$(n[i]).removeClass("js_containsError"),$(n[i]).next(".js_warning-list").remove();var c,p=!!n[i].dataset.validate&&n[i].dataset.validate.split(" ");if(n[i].value=n[i].value.trim(),(c=p||null).length){var u=d(n[i],c);u&&(l=u)}l.length&&(v(n[i],l,r),t++)}return!(0<t)}},glob.PopupModule=function(){var a,n=document.getElementsByClassName("popup"),i=document.getElementById("pageOverlay");if(n.length)for(var e=function(s){n[s].addEventListener("transitionend",function(e){e.stopPropagation(),function(e,s){var n=l(s);"opacity"==e.propertyName&&(n.classList.contains("js_animate")||n.classList.remove("js_open"))}(e,n[s])},!1)},s=0;s<n.length;s++)e(s);function o(e){l(e).classList.remove("js_animate")}return $("body").on("click","#pageOverlay",function(){if(t("popup",this,a),n)for(var e=0;e<n.length;e++)n[e].classList.contains("js_open")&&o(n[e])}),$("body").on("click","button.popupCloseButton",function(){o($(this).closest(".popup")),t("popup",i,a)}),$("body").on("click",".popup",function(e){e.target.classList.contains("popup")&&(o(e.target),t("popup",i,a))}),window.onkeydown=function(e){if(27===e.keyCode&&(i&&i.classList.contains("js_open")&&t("popup",i,a),n))for(var s=0;s<n.length;s++)n[s].classList.contains("js_open")&&o(n[s])},{openPopup:function(e,s,n){var o=n||i,t=l(e);t.classList.add("js_open"),t.classList.add("js_animate"),s?r("popup",o,a=s):r("popup",o)},closePopup:o}}(),site=function(e,n,o){var s=o(e),t=o(n),a=(jQuery(n.body),o(".checkbox-label").find("input")),i=o(".login-item"),l=o(".button-login--js"),r=o(".form-val-js"),c=o(".show-popupTerms--js");/Android|webOS|iPhone|iPad|iPod|BlackBerry/i.test(e.navigator.userAgent),/iPhone|iPad|iPod/i.test(e.navigator.userAgent);var p={handleCheckboxes:function(){var n=0;a.on("change",function(e){n=0,a.each(function(e,s){o(s).prop("checked")&&(n+=1)}),n==a.length?p.removeLoginItemsClasses():p.addLoginItemsClasses()})},addLoginItemsClasses:function(){i.addClass("disabled")},removeLoginItemsClasses:function(){i.removeClass("disabled")},handleLoginBtns:function(){l.on("click",function(e){o(e.currentTarget).closest(".login-item").hasClass("disabled")&&(e.preventDefault(),p.openPopup("popupMessage"))})},handleValidationForms:function(){r.on("submit",function(e){var s=o(this);glob.ValidationModule.isValid(s)||e.preventDefault()})},openPopup:function(e){var s=n.getElementById(e);s&&glob.PopupModule.openPopup(s)},handleTermsPopup:function(){c.on("click",function(){p.openPopup("popupTerms")})},domReady:function(){a.length&&p.handleCheckboxes(),l.length&&p.handleLoginBtns(),r.length&&p.handleValidationForms(),c.length&&p.handleTermsPopup()},winLoad:function(){}};return t.ready(p.domReady),s.on("load",p.winLoad),p}(window,document,jQuery)});